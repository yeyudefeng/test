==================
db_campus_education.tb_class
==================
create table if not exists dwh_ods_campus.clife_campus_ods_class ( 
     class_id                       bigint               comment '班级id' 
    ,class_no                       string               comment '班级编号' 
    ,class_name                     string               comment '班级名称' 
    ,grade_id                       tinyint              comment '年级id' 
    ,grade_name                     string               comment '年级名称' 
    ,org_id                         bigint               comment '学校id' 
    ,status                         tinyint              comment '班级状态（0-失效 1-正常 2-毕业）' 
    ,enter_school_year              string               comment '入学年份' 
    ,leave_date                     date                 comment '毕业离园日期' 
    ,graduation_time                date                 comment '毕业处理时间' 
    ,create_time                    date                 comment '添加时间' 
    ,update_time                    date                 comment '修改时间' 
) comment '班级基础数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_grade
==================
create table if not exists dwh_ods_campus.clife_campus_ods_grade ( 
     data_id                        bigint               comment '自增id' 
    ,grade_id                       tinyint              comment '年级id' 
    ,org_id                         bigint               comment '学校id' 
    ,grade_name                     string               comment '年级名称' 
    ,grade_order                    int                  comment '年级排序' 
    ,create_time                    date                 comment '添加时间' 
    ,update_time                    date                 comment '修改时间' 
) comment '年级基础数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_org
==================
create table if not exists dwh_ods_campus.clife_campus_ods_org ( 
     org_id                         bigint               comment '机构id' 
    ,org_name                       string               comment '机构名称' 
    ,org_name_en                    string               comment '机构英文名' 
    ,domain_name                    string               comment '机构专属域名' 
    ,admin_user_id                  bigint               comment '机构管理员的用户id' 
    ,parent_id                      bigint               comment '上级机构id,0表示没有上级机构' 
    ,org_type                       tinyint              comment '机构类型( 1:教育局 2:教育集团 3:幼儿园)' 
    ,grade_ids                      string               comment '幼儿园开设年级,以英文逗号隔开' 
    ,org_code                       string               comment '机构代码' 
    ,status                         tinyint              comment '状态(-1:未开始 0:停用 1：正常 2：过期)' 
    ,deleted                        tinyint              comment '删除状态 0已删除 1正常' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
    ,start_date                     date                 comment '使用期限的开始时间' 
    ,end_date                       date                 comment '使用期限的结束时间' 
    ,logo                           string               comment 'logo图标路径' 
    ,province_id                    int                  comment '省份id' 
    ,city_id                        bigint               comment '城市id' 
    ,area_id                        bigint               comment '区县id' 
    ,town_id                        bigint               comment '乡镇id' 
    ,village_id                     bigint               comment '村id' 
    ,province_city_area             string               comment '省市区' 
    ,address                        string               comment '详细地址' 
    ,fixed_tel_area_num             string               comment '固定电话-区号' 
    ,fixed_tel_num                  string               comment '固定电话号码' 
    ,phone_num                      string               comment '联系手机' 
) comment '机构表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_staff_archives
==================
create table if not exists dwh_ods_campus.clife_campus_ods_staff_archives ( 
     data_id                        bigint               comment '自增主键' 
    ,archives_id                    bigint               comment '档案id(同用户id)' 
    ,org_id                         bigint               comment '机构id' 
    ,avatar                         string               comment '头像' 
    ,staff_type                     tinyint              comment '人员类型(1-教师，2-教职工)' 
    ,entry_date                     date                 comment '入职日期' 
    ,status                         tinyint              comment '状态（0-停用 1-正常）' 
    ,deleted                        tinyint              comment '删除 0-已删除 1-正常' 
    ,position_id                    bigint               comment '岗位id' 
    ,dept_id                        bigint               comment '部门id' 
    ,create_time                    date                 comment '创建时间' 
    ,change_type                    tinyint              comment '异动类型（1-在职,2-离职,3-辞退,4-外部调转,5-退休）' 
    ,update_time                    date                 comment '修改时间' 
) comment '教职工档案表,一个老师可以在多个学校任职' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_student
==================
create table if not exists dwh_ods_campus.clife_campus_ods_student ( 
     student_id                     bigint               comment '学生id' 
    ,org_id                         bigint               comment '学校id' 
    ,class_id                       bigint               comment '班级id' 
    ,status                         tinyint              comment '学生状态（0-停用 1-正常 2-毕业 3-结业）' 
    ,deleted                        tinyint              comment '删除 0-已删除 1-正常' 
    ,student_name                   string               comment '姓名' 
    ,parent_name                    string               comment '家长姓名' 
    ,student_no                     string               comment '学号' 
    ,sex                            tinyint              comment '1-男 2-女 3-其他' 
    ,birthday                       date                 comment '出生日期' 
    ,card_no                        string               comment '身份证号码' 
    ,home_address                   string               comment '家庭地址' 
    ,enter_school_date              date                 comment '入学日期' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '修改时间' 
    ,card_type                      tinyint              comment '证件类型' 
    ,nation                         tinyint              comment '民族' 
    ,avatar                         string               comment '头像' 
    ,user_id                        bigint               comment '关联家长用户id' 
    ,province_id                    int                  comment '省份id' 
    ,city_id                        bigint               comment '城市id' 
    ,area_id                        bigint               comment '区县id' 
    ,province_city_area             string               comment '省市区' 
    ,pronunciation                  string               comment '姓名读音' 
) comment '学生信息' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_system_dict_item
==================
create table if not exists dwh_ods_campus.clife_campus_ods_system_dict_item ( 
     dict_id                        int                  comment '字典id' 
    ,item_text                      string               comment '字典项文本' 
    ,item_value                     string               comment '字典项值' 
    ,description                    string               comment '描述' 
    ,show_order                     int                  comment '排序' 
    ,deleted                        tinyint              comment '0：删除，1：正常' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
) comment '字典选项' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_user
==================
create table if not exists dwh_ods_campus.clife_campus_ods_user ( 
     user_id                        bigint               comment '用户id' 
    ,username                       string               comment '账号' 
    ,password                       string               comment '密码' 
    ,real_name                      string               comment '昵称' 
    ,sex                            tinyint              comment '性别 1-男 2-女 3-其他' 
    ,mobile                         string               comment '手机' 
    ,email                          string               comment '邮箱' 
    ,system_code                    string               comment '可登录的系统权限,多个以英文逗号隔开' 
    ,salt                           string               comment '密码盐-加密key' 
    ,status                         tinyint              comment '0停用 1正常' 
    ,deleted                        tinyint              comment '1正常0已删除' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
    ,id_card_type                   tinyint              comment '证件类型' 
    ,id_card                        string               comment '证件号码' 
    ,birthday                       date                 comment '生日' 
    ,nation                         tinyint              comment '民族' 
    ,political_status               tinyint              comment '政治面貌' 
    ,education                      tinyint              comment '最高学历' 
    ,province_id                    int                  comment '省份id' 
    ,city_id                        bigint               comment '城市id' 
    ,area_id                        bigint               comment '区县id' 
    ,province_city_area             string               comment '省市区' 
    ,address                        string               comment '详细地址' 
    ,clife_id                       bigint               comment '公共平台的用户id' 
) comment '用户基础数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_education.tb_class_room
==================
create table if not exists dwh_ods_campus.clife_campus_ods_class_room ( 
     class_room_id                  bigint               comment '教室id' 
    ,class_room_name                string               comment '教室名称（位置）' 
    ,class_id                       bigint               comment '班级id' 
    ,status                         tinyint              comment '班级教室状态（0-失效 1-正常）' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
    ,school_id                      bigint               comment '学校id' 
) comment '教室' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_country
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_country ( 
     country_id                     int                  comment '国家标识' 
    ,country_name                   string               comment '国家名称' 
    ,country_en_name                string               comment '国家英文名' 
) comment '国家数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_partition
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_partition ( 
     country_id                     int                  comment '国家标识' 
    ,partition_id                   int                  comment '地理分区标识' 
    ,partition_name                 string               comment '地理分区名称' 
) comment '中国七大地理分区' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_province
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_province ( 
     partition_id                   int                  comment '地理分区标识' 
    ,province_id                    int                  comment '省份标识' 
    ,province_name                  string               comment '省份名称' 
    ,province_english_name          string              
    ,longitude                      double               comment '经度' 
    ,latitude                       double               comment '纬度' 
    ,baidu_code                     int                  comment '百度编码' 
) comment '省份数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_city
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_city ( 
     province_id                    int                  comment '省份标识' 
    ,city_id                        bigint               comment '城市标识' 
    ,baidu_city_code                int                  comment '百度城市编码' 
    ,city_name                      string               comment '城市名称' 
    ,city_english_name              string              
    ,longitude                      double               comment '经度' 
    ,latitude                       double               comment '纬度' 
    ,is_capital                     int                  comment '是否为省会城市（0-否 1-是）' 
) comment '城市数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_area
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_area ( 
     city_id                        bigint               comment '地级市标识' 
    ,area_id                        bigint               comment '县级市、区标识' 
    ,area_name                      string               comment '县级市、区名称' 
    ,area_english_name              string               comment '县级市、区英文名' 
    ,weather_code                   string               comment '天气编码' 
) comment '县级市、区数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_town
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_town ( 
     area_id                        bigint               comment '县级市、区标识' 
    ,town_id                        bigint               comment '镇标识' 
    ,town_name                      string               comment '镇名称' 
) comment '镇数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_center.tb_env_village
==================
create table if not exists dwh_ods_campus.clife_campus_ods_env_village ( 
     town_id                        bigint               comment '镇标识' 
    ,village_id                     bigint               comment '村标识' 
    ,village_name                   string               comment '村名称' 
) comment '村数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_student_health_file
==================
create table if not exists dwh_ods_campus.clife_campus_ods_student_health_file ( 
     data_id                        bigint               comment '唯一标识' 
    ,student_data_id                bigint               comment '学生id' 
    ,father_name                    string               comment '父亲姓名' 
    ,father_phone                   string               comment '父亲电话' 
    ,father_family_history          string               comment '父亲家族病史' 
    ,mother_name                    string               comment '母亲姓名' 
    ,mother_phone                   string               comment '母亲电话' 
    ,mother_family_history          string               comment '母亲家族病史' 
    ,home                           string               comment '详细住址' 
    ,address                        string               comment '地址' 
    ,province_id                    bigint               comment '省Id' 
    ,city_id                        bigint               comment '市Id' 
    ,area_id                        bigint               comment '区Id' 
    ,report                         tinyint              comment '上报 0未上报1已上报2最新未上报' 
    ,update_results                 tinyint              comment '更新结果 0无更新1有更新' 
    ,history_of_convulsions         tinyint              comment '高热惊厥史,0：无，1：有' 
    ,attack_temp                    double               comment '发作时温度' 
    ,number_of_attacks              tinyint              comment '发作次数' 
    ,serious_disease_history        tinyint              comment '各种严重病史，0：无，1：有' 
    ,serious_disease_history_details string               comment '严重病史详情' 
    ,infectious_disease_history     tinyint              comment '各种传染病史，0：无，1：有' 
    ,infectious_disease_history_details string               comment '传染病史详情' 
    ,other_infectious_disease_history string               comment ' 其他传染病史' 
    ,history_of_surgery             tinyint              comment '手术史 0无1有' 
    ,history_of_surgery_details     string               comment '手术史详情' 
    ,weight                         double               comment '体重（单位：kg）' 
    ,weight_assess                  tinyint              comment '0：中上，1：中等，2：中下' 
    ,height                         double               comment '身高（单位：cm）' 
    ,height_assess                  tinyint              comment '0：中上，1：中等，2：中下' 
    ,bmi                            double               comment 'bmi数值' 
    ,bmi_assess                     tinyint              comment '0：中上，1：中等，2：中下' 
    ,left_eye                       tinyint              comment '0:未检查，1：正常，2：砂眼，3：结膜炎' 
    ,right_eye                      tinyint              comment '0:未检查，1：正常，2：砂眼，3：结膜炎' 
    ,left_vision                    double               comment '左视力' 
    ,right_vision                   double               comment '右视力' 
    ,number_of_caries               int                  comment '龋齿数,“”空字符串为未检测' 
    ,number_of_teeth                int                  comment '牙齿数量' 
    ,head_neck                      tinyint              comment ' 头颈，0：未检测，1：正常，2：异常' 
    ,thoracic                       tinyint              comment '胸廓，0：未检测，1：正常，2：异常' 
    ,spine                          tinyint              comment '脊椎，0：未检测，1:正常，2：异常' 
    ,limbs                          tinyint              comment '四肢，0：未检测，1:正常，2：异常' 
    ,pharynx                        tinyint              comment '咽部，0：未检测，1：正常，2：异常' 
    ,heart                          tinyint              comment '心，0：未检测，1：正常，2：异常' 
    ,lung                           tinyint              comment '肺，0：未检测，1：正常，2：异常' 
    ,liver                          tinyint              comment '肝，0：未检测，1：正常，2：异常' 
    ,spleen                         tinyint              comment '脾，0：未检测，1：正常，2异常' 
    ,hemoglobin                     double               comment '血红蛋白（单位：g/h）' 
    ,alt                            tinyint              comment '丙氨酸氨基转移酶，0：未检测，1：正常，2：异常' 
    ,other                          string               comment '其他' 
    ,complete                       tinyint              comment '1：齐全，0：不齐' 
    ,lack                           string               comment '0：卡芥兰，1：乙肝，2：麻疹，3：骨髓灰质炎，4：百白破，5：乙脑' 
    ,create_time                    date                 comment '创建时间' 
    ,whether_allergy                tinyint              comment '是否过敏体质，0：否，1：是' 
    ,status                         tinyint              comment '0：失效，1：正常，2：停用' 
    ,update_time                    date                 comment '更新时间' 
    ,report_time                    date                 comment '上报时间' 
    ,resource                       tinyint              comment '0:健康档案，1：健康体检复制内容' 
    ,checkup_id                     int                  comment '体检id' 
    ,deleted                        tinyint              comment '0：删除，1：正常' 
    ,is_archives                    tinyint              comment '档案状态 1提交资料 2归档完成' 
    ,archives_time                  date                 comment '归档时间' 
    ,modular                        string               comment '模块 1基本信息2病史3过敏史4健康信息5接种信息' 
    ,health                         string               comment '健康情况' 
    ,is_organic_diseases            tinyint              comment '是否患有身体重要器官或组织的器质性疾病 0否1是' 
    ,is_organic_diseases_details    string               comment '身体重要器官或组织的器质性疾病详情' 
    ,is_blood_disease               tinyint              comment '是否患有血液病 0否1是' 
    ,is_blood_disease_details       string               comment '血液病详情' 
    ,is_diffuse_connective_disease  tinyint              comment '是否患有弥漫性结缔组织疾病  0否1是' 
    ,is_diffuse_connective_disease_details string               comment '弥漫性结缔组织疾病详情' 
    ,is_congenital_malformation     tinyint              comment '是否患有影响正常生活、学习、活动的先天畸形或疾病等  0否1是' 
    ,is_congenital_malformation_details string               comment '先天畸形或疾病详情' 
    ,is_organic_psychosis           tinyint              comment '是否患有器质性精神病  0否1是' 
    ,is_organic_psychosis_details   string               comment '器质性精神病详情' 
    ,is_neurosis                    tinyint              comment '是否患有严重的神经官能症 0否1是' 
    ,is_neurosis_details            string               comment '神经官能症详情' 
    ,is_psychoactive_substance      tinyint              comment '是否患有精神活性物质滥用和依赖  0否1是' 
    ,is_psychoactive_substance_details string               comment '精神活性物质滥用和依赖详情' 
    ,is_organ_injury                tinyint              comment '是否有意外伤害导致的组织器官损伤或畸形等  0否1是' 
    ,is_organ_injury_details        string               comment '意外伤害导致的组织器官损伤或畸形详情' 
) comment '健康档案' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_student_am_inspection
==================
create table if not exists dwh_ods_campus.clife_campus_ods_student_am_inspection ( 
     inspection_id                  bigint               comment '晨午检Id' 
    ,org_id                         bigint               comment '学校Id' 
    ,student_id                     bigint               comment '学生Id' 
    ,user_id                        bigint               comment '检查人Id' 
    ,type                           tinyint              comment '检查类型 0晨检 1午检' 
    ,img                            string               comment '检查图片' 
    ,is_temperature                 tinyint              comment '体温 0正常 1具体温度' 
    ,temperature                    double               comment '体温值(选择具体温度才有值)' 
    ,inspection_date                date                 comment '检查日期' 
    ,is_abnormal                    tinyint              comment '检查结果 0异常 1正常' 
    ,other_symptom                  string               comment '其他症状' 
    ,is_disease                     tinyint              comment '疾病确认(0可以确认 1无法确认)' 
    ,disease_id                     bigint               comment '疾病Id' 
    ,infectious_disease             tinyint              comment '是否传染病(0:否，1:是，2无法确认)' 
    ,disease_name                   string               comment '疾病名称' 
    ,treatment                      tinyint              comment '处理情况 0家长送医 1留园观察 2停课治疗 3其他' 
    ,other                          string               comment '其他情况' 
    ,deleted                        tinyint              comment '是否删除 0是 1不是' 
    ,status                         tinyint              comment '状态 0已确定 1待确认' 
    ,data_sources                   tinyint              comment '数据来源  0 web录入  1 智能设备 2批量创建 3移动端录入' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    timestamp            comment '修改时间' 
) comment '晨午检信息' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_into_campus_detail
==================
create table if not exists dwh_ods_campus.clife_campus_ods_into_campus_detail ( 
     record_id                      bigint               comment '记录ID' 
    ,org_id                         bigint               comment '机构ID' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,data_time                      date                 comment '数据日期' 
    ,am_status                      tinyint              comment '入园状态(0-未入园、1-已入园)' 
    ,att_status                     tinyint              comment '考勤入园状态(0-未入园、1-已入园、2-病假，3-事假)' 
    ,admin                          tinyint              comment '是否管理员修改(0-否、1-是)' 
    ,am_time                        datetime             comment '入园时间(HH:mm:ss)' 
    ,type                           tinyint              comment '条件类型（0-默认、1-考勤、2-饮水、3-步数、4-运动量、5-晨检）' 
    ,create_time                    date                 comment '创建时间' 
    ,value                          int                  comment '数据值' 
) comment '入园明细表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_medicine
==================
create table if not exists dwh_ods_campus.clife_campus_ods_medicine ( 
     data_id                        bigint               comment '唯一标识' 
    ,student_id                     bigint               comment '学生id' 
    ,medication_date                date                 comment '喂药日期' 
    ,whether_inspect                tinyint              comment '药品是否视检,0:否，1：是' 
    ,medication_reasons             string               comment '用药原因' 
    ,number_of_feeding              tinyint              comment '喂药次数' 
    ,deleted                        tinyint              comment '0：删除，1：正常' 
    ,status                         tinyint              comment '1-待视检、2-已撤销、3-已视检、4-已完成' 
    ,source                         tinyint              comment '0-老师录入，1-家长录入' 
    ,update_time                    date                 comment '更新时间' 
    ,create_time                    date                 comment '创建时间' 
    ,parent_sign_url                string               comment '家长签字图片' 
) comment '喂药信息' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_medicine_details
==================
create table if not exists dwh_ods_campus.clife_campus_ods_medicine_details ( 
     data_id                        bigint               comment '唯一标识' 
    ,feeding_id                     bigint               comment '喂药信息id' 
    ,medicine_name                  string               comment '药物名称' 
    ,medication_time                date                 comment '用药时间' 
    ,medication_method              tinyint              comment '用药方式，0：口服，1：外用' 
    ,dosage                         string               comment '用药剂量' 
    ,unit                           tinyint              comment '单位，0：包，1：颗，2：滴，3：ml' 
    ,picture_url                    string               comment '药物图片url' 
    ,medication_status              tinyint              comment '0：待喂药，1：已喂药' 
    ,status                         tinyint              comment '0：失效，1：正常，2：停用' 
    ,update_time                    date                 comment '更新时间' 
    ,create_time                    date                 comment '创建时间' 
    ,moment                         tinyint              comment '0：早上，1：中午' 
) comment '喂药详情' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_message.tb_message
==================
create table if not exists dwh_ods_campus.clife_campus_ods_message ( 
     message_id                     bigint               comment '信息编号' 
    ,app_name                       string               comment '应用名称' 
    ,title                          string               comment '标题' 
    ,summary                        string               comment '概要，简单描述' 
    ,picture_url                    string               comment '简图路径' 
    ,sender                         bigint               comment '发送者(系统发送的sender为0)' 
    ,icon                           string               comment '图标URL' 
    ,message_type                   bigint               comment '消息类型,对应 db_campus_education#tb_resource 的 resource_id' 
    ,business_param                 string               comment '业务参数的值,json格式' 
    ,status                         tinyint              comment '是否有效(0:无效；1正常)' 
    ,create_time                    date                 comment '创建时间' 
    ,jump_link_url                  string               comment '跳转链接(应用代码)' 
    ,content_type                   tinyint              comment '消息内容类型(0 - 富文本方式; 1 - 跳转消息)' 
    ,data_flag                      tinyint              comment '数据来源标识（默认为0-普通推送消息；1-园丁端老师；2-校园运营端）' 
) comment '消息(动态提醒)' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_vision_data
==================
create table if not exists dwh_ods_campus.clife_campus_ods_vision_data ( 
     vision_id                      bigint               comment '视力数据ID' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,left_vision                    double               comment '左眼视力' 
    ,right_vision                   double               comment '右眼视力' 
    ,left_abnormal                  tinyint              comment '左眼视力状态（1-正常、0-不正常）' 
    ,right_abnormal                 tinyint              comment '右眼视力状态（1-正常、0-不正常）' 
    ,source                         tinyint              comment '数据来源（1-后台添加、2-后台导入、3-家长录入、4-老师录入、5万灵视力仪）' 
    ,measure_time                   date                 comment '测量日期' 
    ,upload_time                    date                 comment '上传时间' 
) comment '智能校园学生视力表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_thermometer_data
==================
create table if not exists dwh_ods_campus.clife_campus_ods_thermometer_data ( 
     thermometer_id                 bigint               comment '体温Id' 
    ,device_id                      string               comment '设备编号' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,value                          double               comment '体温值' 
    ,level                          tinyint              comment '（体温正常状态）0：偏低，1：正常   2：低热，3高热' 
    ,measure_time                   date                 comment '测量时间' 
    ,upload_time                    date                 comment '上传时间' 
    ,source                         tinyint              comment '数据来源：1-体温检测仪；2-家长APP；3-米越耳温枪;4-晨检机器人' 
    ,status                         int                  comment '状态（0：无效 1：有效）' 
    ,if_check                       int                  comment '状态（0：未审核 1：已审核）' 
) comment '体温记录表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_water_drink_record
==================
create table if not exists dwh_ods_campus.clife_campus_ods_water_drink_record ( 
     data_id                        bigint               comment '自增主键' 
    ,student_id                     bigint               comment '学生唯一ID' 
    ,order_id                       string               comment '刷卡时间+卡号' 
    ,device_no                      string               comment '设备编号' 
    ,data_time                      date                 comment '刷卡日期' 
    ,cdate                          date                 comment '刷卡时间' 
    ,card_no                        string               comment '卡号' 
    ,water_amount                   double               comment '出水量ml' 
    ,is_auto                        tinyint              comment '1-净饮机 2-手动添加' 
    ,intds                          double               comment '进水TDS' 
    ,outtds                         double               comment '出水TDS' 
    ,temperature                    double               comment '饮水温度' 
    ,time_integer                   int                  comment '时分秒的整数' 
    ,school_id                      bigint               comment '学校ID' 
    ,device_type                    tinyint              comment '净饮机类型：1-海豚净饮机，2-易水香净饮机，3-碧丽水机，4-米越取水刷卡器' 
    ,create_time                    date                 comment '创建时间' 
    ,device_position                string               comment '饮水机位置' 
) comment '饮水记录表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_water_drink_setting
==================
create table if not exists dwh_ods_campus.clife_campus_ods_water_drink_setting ( 
     data_id                        bigint               comment '主键ID' 
    ,org_id                         bigint               comment '机构ID' 
    ,grade_id                       int                  comment '年级ID' 
    ,enough                         int                  comment '饮水量充足' 
    ,standard                       int                  comment '饮水量达标' 
    ,device_type                    tinyint              comment '饮水设备类型：1-净饮机，2-刷卡器' 
    ,detail                         tinyint              comment '明细设置（0-家长不可见，1-家长可见）' 
    ,visible                        tinyint              comment '饮水规则设置（0-不可见 1-可见）' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '修改时间' 
    ,deleted                        tinyint              comment '（是否删除）0-删除，1-正常' 
) comment '饮水设置表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_sport_amount_original
==================
create table if not exists dwh_ods_campus.clife_campus_ods_sport_amount_original ( 
     data_id                        bigint               comment '记录ID' 
    ,student_id                     bigint               comment '学生ID' 
    ,device_no                      string               comment '设备编号' 
    ,measure_time                   date                 comment '测量时间' 
    ,data_time                      date                 comment '数据日期' 
    ,sport_num                      int                  comment '运动量' 
    ,upload_time                    date                 comment '更新时间' 
    ,source                         tinyint              comment '数据来源 1-手环；2-家长APP；3-手表；4-米越；5-天波' 
) comment '米越运动量原始记录表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_sports_record
==================
create table if not exists dwh_ods_campus.clife_campus_ods_sports_record ( 
     data_id                        bigint               comment '主键标识' 
    ,device_no                      string               comment '设备编号' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,value                          int                  comment '步数' 
    ,level                          tinyint              comment '保留' 
    ,source                         tinyint              comment '数据来源：1-手环；2-家长APP；3-手表；4-米越；5-天波' 
    ,data_time                      date                 comment '测量日期' 
    ,measure_time                   date                 comment '测量时间' 
    ,upload_time                    date                 comment '数据上传时间' 
    ,step_type                      tinyint              comment '步数类型：81-小时步数，111-总步数' 
    ,from_type                      tinyint              comment '来源类型：1-app,2-ap盒子' 
) comment '运动步数记录表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_sports_assess_setting
==================
create table if not exists dwh_ods_campus.clife_campus_ods_sports_assess_setting ( 
     dataId                         bigint               comment '主键' 
    ,org_id                         bigint               comment '机构id' 
    ,grade_id                       int                  comment '年级id' 
    ,adequate                       int                  comment '充足' 
    ,standard                       int                  comment '达标' 
    ,insufficient                   int                  comment '不足' 
    ,update_time                    date                 comment '更新时间' 
    ,create_time                    date                 comment '创建时间' 
    ,visible                        tinyint              comment '运动规则开关(0-关 1-开)' 
) comment '活动评估设置' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_sleep_day_data
==================
create table if not exists dwh_ods_campus.clife_campus_ods_sleep_day_data ( 
     data_id                        bigint               comment '主键' 
    ,device_no                      string               comment '设备编号' 
    ,student_id                     bigint               comment '学生id' 
    ,date                           date                 comment '数据所在日期' 
    ,sleep_duration                 int                  comment '睡眠时长（秒）' 
    ,wake_duration                  int                  comment '清醒时长（秒）' 
    ,wake_number                    int                  comment '清醒次数' 
    ,score                          double               comment '睡眠打分' 
    ,source                         tinyint              comment '数据来源(1-天波手环，2-米越手环，3-睡眠带子)' 
    ,valid                          tinyint              comment '睡眠数据有效性（1-有效，2-无效）' 
    ,upload_time                    timestamp            comment '上传时间(utc)' 
    ,create_time                    timestamp            comment '创建时间' 
) comment '学生日睡眠报告' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_sleep_day_status
==================
create table if not exists dwh_ods_campus.clife_campus_ods_sleep_day_status ( 
     data_id                        bigint               comment '主键' 
    ,device_no                      string               comment '设备id' 
    ,student_id                     bigint               comment '学生id' 
    ,date                           date                 comment '数据所在日期' 
    ,start_time                     timestamp            comment '睡眠状态开始时间(utc)' 
    ,status                         tinyint              comment '睡眠状态（1-上床，2-入睡，3-浅睡，4-深睡，5-清醒，6-睡着，7-离床，8-再次上床，9-中途起床，10-微觉醒）' 
    ,source                         tinyint              comment '数据来源(1-天波手环，2-米越手环，3-睡眠带子)' 
) comment '每天睡眠状态数据' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_student_body_data
==================
create table if not exists dwh_ods_campus.clife_campus_ods_student_body_data ( 
     body_data_id                   bigint               comment '唯一标识' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,device_no                      string               comment '设备编号' 
    ,height                         double               comment '身高（cm）' 
    ,weight                         double               comment '体重（kg）' 
    ,level                          tinyint              comment '（身材正常状态）  0：偏瘦  1：标准  2：超重  3：肥胖 99-其它' 
    ,height_level                   tinyint              comment '（身高状态）  0：偏矮  1：标准  2：偏高' 
    ,measure_time                   date                 comment '测量时间' 
    ,upload_time                    date                 comment '上传时间' 
    ,source                         tinyint              comment '数据来源：1-身高体重仪；2-家长APP；3-NB-身高体重仪；4-后台导入,5:上和身高体重仪，6：鼎恒身高体重仪,7:手动添加' 
    ,status                         int                  comment '状态（0：无效 1：有效）' 
    ,if_check                       int                  comment '状态（0：未审核 1：已审核）' 
    ,bmi                            double               comment 'bmi' 
) comment '学生身高体重-测量数据表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_shit_card_data
==================
create table if not exists dwh_ods_campus.clife_campus_ods_shit_card_data ( 
     data_id                        bigint               comment '主键标识' 
    ,device_no                      string               comment '设备编号' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,value                          int                  comment '数据index' 
    ,card_time                      date                 comment '刷卡时间(本地)' 
    ,status                         tinyint              comment '状态（0：无效 1：有效）' 
    ,upload_time                    date                 comment '上传时间(本地)' 
) comment '如厕刷卡器数据' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_interest_activity
==================
create table if not exists dwh_ods_campus.clife_campus_ods_interest_activity ( 
     activity_id                    bigint               comment '活动id' 
    ,activity_name                  string               comment '活动名称' 
    ,start_time                     string               comment '开始时间' 
    ,end_time                       string               comment '结束时间' 
    ,org_id                         bigint               comment '学校id' 
    ,class_id                       bigint               comment '班级Id' 
    ,week                           string               comment '日期 1:周一 2:周二 3:周三 4:周四 5:周五 6:周六  7:周日' 
    ,status                         tinyint              comment '状态（0-失效 1-正常）' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
) comment '活动表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_interest_map_location
==================
create table if not exists dwh_ods_campus.clife_campus_ods_interest_map_location ( 
     map_location_id                bigint               comment '活动位置编号' 
    ,map_id                         int                  comment '地图编号' 
    ,org_id                         bigint               comment '机构id' 
    ,coordinates                    string               comment '所在地图的位置坐标' 
    ,location_name                  string               comment '活动位置名称' 
    ,function                       string               comment '位置使用功能' 
    ,status                         int                  comment '状态：0-无效；1-有效' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '修改时间' 
    ,type                           int                  comment '类型（0-教室、1-室内公共区、2-室外公共区）' 
    ,class_room_id                  bigint               comment '教室唯一标识' 
    ,class_id                       bigint              
    ,number_people                  int                  comment '限定人数' 
    ,areas_id                       bigint               comment '公共区域ID' 
) comment '活动位置功能信息表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


==================
db_campus_platform.tb_interest_student_location
==================
create table if not exists dwh_ods_campus.clife_campus_ods_interest_student_location ( 
     data_id                        bigint               comment '主键标识' 
    ,student_id                     bigint               comment '学生唯一标识' 
    ,map_location_id                bigint               comment '活动位置编号' 
    ,time_length                    int                  comment '学生停留时长(单位秒)' 
    ,enter_time                     date                 comment '进入时间' 
    ,leave_time                     date                 comment '离开时间' 
    ,create_time                    date                 comment '创建时间' 
    ,update_time                    date                 comment '更新时间' 
    ,activity_data                  tinyint              comment '活动数据表示:1(是) ' 
    ,source                         tinyint              comment '数据来源（1-米越，2-天波）' 
) comment '个人位置分析表' 
partitioned by ( part_date string ) 
row format delimited fields terminated by '\t' 
stored as parquet 
;


